## RAG 학습
### RAG(Retrieval-Augmented Generation)
: 대규모 언어 모델의 출력을 최적화하여 응답을 생성하기 전에 학습 데이터 소스 외부의 신뢰할 수 있는 지식 베이스를 참조하도록 하는 프로세스입니다.

---
## 전형적인 RAG
- 준비단계
1. 지식 변환 (Load):    
    이 단계에서는 PDF/TXT/HTML 등의 문서 포맷에 맞는 라이브러리를 사용하여, 문서를 열고 메타 데이터와 내용을 읽어서 텍스트로 변환하신 후에, List[Document] 객체로 변환하는 단계입니다.

2. 지식을 쪼개기 (Split):   
    1단계. 지식 변환 (Load) 단계에서 생성된 문서를 문서의 포맷은 유지하면서 쪼개고 정리해서 적절한 크기의 문서들로 재구성하는 단계입니다.

3. 지식 표현 (Embed):   
    분할된 텍스트를 벡터로 변환하여 의미적 유사도를 측정할 수 있도록 준비하는 과정.
    컴퓨터는 문자열 그 자체로 의미를 파악할 수는 없습니다. 컴퓨터는 계산기이기 때문에 문자열을 숫자로 변환을 해야 합니다. 이러한 숫자를 벡터(Vector)라고 부르며, 벡터로의 변환 과정을 벡터화 혹은 임베딩(Embedding) 이라고 합니다. “brother”와 “sister”는 문자열 자체로는 관계가 없지만, 벡터로 변환되면 관계를 파악할 수 있습니다.

4. 지식 저장 (Store):   
    단순히 문서를 벡터로 변환했다고 해서 즉시 활용할 수 있는 것이 아니라, 빠르고 정확한 검색이 가능하도록 저장해야 하며, 적절한 인덱싱 기법을 적용하여 검색 속도를 최적화해야만 합니다. “지식 저장 (Store)” 단계는 효율적인 검색을 위한 최적화된 저장소 구축 과정입니다.

- 활용단계
5. 지식 검색 (Search) 및 LLM 요청/응답
<image src="image/rag.png">
출처 : https://python.langchain.com/docs/tutorials/rag/

---
### OpenAI API 가격 (2025년 1월 기준)

| Model | Input (100만 토큰 당) | Output (100만 토큰 당) |
|-------|----------------------|---------------------|
| OpenAI gpt-4o-mini | $0.15 | $0.6 |
| OpenAI gpt-4o | $2.5 | $10.0 |
| OpenAI gpt-o1-mini | $3.0 | $12.0 |
| OpenAI gpt-o1 | $0.15 | $60.0 |
| OpenAI gpt-4o-audio-preview | $40.0 | $80.0 |

학습 출처 : https://ai.pyhub.kr/rag-01/